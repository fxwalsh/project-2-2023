# Blynk HTTP API

The Blynk HTTP API provides read and write access to/from Pins in Blynk apps and Hardware ( in our case the Raspberry Pi).
A HTTP GET request will return current state/value of the pin.  A HTTP PUT request will update a pin's state both in apps and on the hardware. 

Full details can be found here: https://blynkapi.docs.apiary.io/

## Test using **wget**

According to the API reference, you can write a pin value using a HTTP PUT as follows:  
![Put Request](./img/l.png)

Using the above reference, use ``wget``  on the command line of your computer to switch the LEDs on the SenseHAT on and off using your API key:  

~~~bash
curl -H "Content-Type: application/json" -X PUT -d ["0","0","0"] http://blynk-cloud.com/LjDxBlG_1Msgsdfsdsfsdxq5GbfKsNn/update/V1
~~~

## Automate using IFTTT (optional if you don't have a Google account)

From a previous lab you used IFTTT. Use a similar approach here to create a new Applet using Google Assistant. 

+ Open IFTTT, go to “My Applets” and tap on **Create** on top right corner. 
+ click on “If This” and then find “Google Assistant” after that choose a trigger and complete all phrases on trigger chosen. **You nay need to tap the Connect button if you haven't already logged into Google and you should be redirected to a secure Google login page.**  
+ ![IFTTT Google Assistant](./img/ifttt.png)
+  Now select **That**, find “Webhooks”, “make a web request” and now, in the URL you need to put the same URL you used in the **wget** test, except use the IP address instead of the domain name  (http://YOUR_COUNTRY_BLYNK_IP/YOUR_TOKEN_HERE/update/V1). **To find the blynk IP from your country just go to command line on PC and write: ping blynk-cloud.com.**
- Choose the method to “PUT”, the “Content Type” to “application/json” and the body you put ["255","255","255"] to turn on the LEDs to white.  
  ![IFTTT Google Assistant](./img/h.png)
- Now,activate Google Assistant using "Hey Google" and ask her to "turn raspberry pi light on", after which she should confirm the light is ON.
- Finally, create another IFTTT applet to turn the light off, or a different colour!

If you don't have  Google Assistant, you can try to trigger using another service.

